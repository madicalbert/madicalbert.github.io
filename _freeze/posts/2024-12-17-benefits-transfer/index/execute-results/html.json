{
  "hash": "67b42da51cb49b7d4ea276fb5b296fdd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Benefits Transfer\"\ndescription: \"Estimating restoration costs and storm protection benefits for 60 hectares of salt marsh habitat in Huntington Beach, CA using benefits transfer.\"\nauthor:\n  - name: Madison Calbert\n    url: https://madicalbert.github.io/\n    affiliation: ESM 245 Cost Benefit Analysis Course - Master of Environmental Science & Management Program @ The Bren School (UCSB)\n    affiliation-url: https://bren.ucsb.edu/masters-programs/master-environmental-science-and-management \ndate: 12-17-2024\ncategories: [R, Cost Benefit Analysis, Benefits Transfer] # self-defined categories\ncitation: \n  url: https://madicalbert.github.io/posts/2022-12-17-benefits-transfer/ \nimage: preview-image.png\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n---\n\n\n\n# Background\n\nCoastal wetlands provide a natural defense against storm surges and the effects of sea-level rise. They act like a sponge that dissipates wave impacts and reduces flood risk. Benefit transfer analysis can be used to determine the value of a 60 hectare salt marsh wetlands in Huntington Beach, California.\n\n# Data\n\nThe analysis will pull from these two studies:\n\n-   [Bayraktov et al. (2015)](https://esajournals.onlinelibrary.wiley.com/doi/10.1890/15-1077): a meta-analysis of coastal wetland restoration costs. Specifically, you have access to the mangrove and salt marsh databases.\n\n-   [Costanza et al. (2021)](https://storymaps.arcgis.com/stories/4be8afd6872145f585782f6e3f8fbe95): estimate the storm protection benefits (avoided damage).\n\nYou have part of the dataset of Bayraktov et al. (2015) and it has the following information:\n\n1\\) study_cluster: research belonging to a specific year\n\n2\\) wetland_type: mangrove or saltmarsh\n\n3\\) observation: research ID\n\n4\\) reference: authors\n\n5\\) ref_year: publication year\n\n6\\) country: country where the restoration project took place\n\n7\\) area_ha: restoration area\n\n8\\) total_cost_2010: total restoration cost in USD2010\n\n# Part 1: Restoration costs\n\n*You will employ a benefit transfer to find the costs of restoring 60 hectares of wetland.*\n\n1)  *Inspect the dataset. What wetland type is most appropriate for your analysis? Filter the dataset for that wetland type.*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nhere() starts at /Users/madisoncalbert/Documents/BREN/Website/madicalbert.github.io\n```\n\n\n:::\n\n```{.r .cell-code}\nrm(list = ls())\n\n# Load the data\ncost_df <- read_csv(here(\"posts/2024-12-17-benefits-transfer/cost_df.csv\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 271 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (3): wetland_type, reference, country\ndbl (5): study_cluster, observation, ref_year, area_ha, total_cost_2010\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter for saltmarsh\nsaltmarsh_df <- cost_df %>%\n  filter(wetland_type == \"saltmarsh\") %>% \n  drop_na()\n```\n:::\n\n\n\nWe want saltmarsh wetlands for our analysis.\n\n2)  *Create a new variable with the restoration costs per hectare. Then, choose one of the research studies and estimate the total costs of restoring 60 hectares in Huntington Beach. Explain your choice.*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a new variable with the restoration costs per hectare\nsaltmarsh_df <- saltmarsh_df %>%\n  mutate(cost_per_ha = total_cost_2010 / area_ha)\n\n# Choose one of the research studies\nsaltmarsh_df %>% \n  filter(country == \"USA\") %>%\n  filter(area_ha >= 60) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 9\n  study_cluster wetland_type observation reference      ref_year country area_ha\n          <dbl> <chr>              <dbl> <chr>             <dbl> <chr>     <dbl>\n1             1 saltmarsh              2 Adams CS, Ben…     1998 USA        160 \n2            18 saltmarsh             75 Milano G           1999 USA        122.\n3            26 saltmarsh            103 Society for E…     2007 USA        197.\n4            29 saltmarsh            106 Society for E…     2008 USA        130.\n# ℹ 2 more variables: total_cost_2010 <dbl>, cost_per_ha <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# estimate the total costs of restoring 60 hectares in Huntington Beach based on observation #106\ntotal_cost_60_ha <- saltmarsh_df %>%\n  filter(observation == 106) %>%\n  pull(cost_per_ha) * 60\ntotal_cost_60_ha\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5496802\n```\n\n\n:::\n:::\n\n\n\nTo choose a research study, I filtered for projects in the USA with an area greater than or equal to 60 hectares. From these four results, I consulted with the larger data set from the Bayraktov et al. (2015) study to determine that observation #106 was a project in the San Francisco Bay area of California. Because our restoration site is in Huntington Beach, California, I chose observation #106 as the most appropriate for our analysis based on geographic location. Based on the restoration cost per hectare for observation #106, the total cost of restoring 60 hectares in Huntington Beach is \\$5,496,801.63\n\n3)  *We are interested in the marginal cost of each additional hectare restored. Make a scatter plot of hectares on the y-axis and total restoration costs on the x-axis in the USA. Describe the relationship between total costs and wetland area restored.*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter for only USA\nsaltmarsh_usa <- saltmarsh_df %>% \n  filter(country==\"USA\")\n\n# Scatter plot of hectares on the y-axis and total restoration costs on the x-axis in the USA\nsaltmarsh_usa %>%\n  ggplot(aes(x = total_cost_2010, y = area_ha)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  scale_x_log10() +  # Log transform x-axis\n  scale_y_log10() +  # Log transform y-axis \n  labs(title = \"Total Restoration Costs by Area of Restored Saltmarsh\",\n       x = \"Total Restoration Costs (USD2010, log scale)\",\n       y = \"Wetland Area Restored (ha, log scale)\") + \n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Scatter plot of total restoration costs and  hectares of saltmarsh wetland restored in the USA](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\nThe scatter plot shows a positive relationship between total restoration costs and hectares of wetland area restored. As the area of wetland restoration increases, the total restoration costs also increases. The relationship appears to be linear, with a few outliers that have higher restoration costs for a given area of wetland restoration.\n\n4)  *Run the following regression: total_cost_2010 = a + b\\*area_ha + error. Using the outcome of this regression, recalculate the total cost of restoring 60 hectares of wetland.*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Run the regression\nlm_cost <- lm(total_cost_2010 ~ area_ha, data = saltmarsh_usa)\nsummary(lm_cost)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = total_cost_2010 ~ area_ha, data = saltmarsh_usa)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-5239511  -541661  -352808    87971  7111292 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   446092     368986   1.209    0.234    \narea_ha        43861       7093   6.183 3.55e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2011000 on 37 degrees of freedom\nMultiple R-squared:  0.5082,\tAdjusted R-squared:  0.4949 \nF-statistic: 38.23 on 1 and 37 DF,  p-value: 3.546e-07\n```\n\n\n:::\n\n```{.r .cell-code}\n# Recalculate the total cost of restoring 60 hectares of wetland\ntotal_cost_60_ha_lm <- coef(lm_cost)[1] + coef(lm_cost)[2] * 60\ntotal_cost_60_ha_lm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(Intercept) \n    3077755 \n```\n\n\n:::\n:::\n\n\n\nThe total cost from the regression is \\$3,077,755 to restore 60 hectares of wetland in Huntington Beach. This estimate is much lower than the previous estimate based on observation #106.\n\n5)  *Describe one way you could improve your cost analysis and valuation.*\n\nOne way to improve the cost analysis and valuation is to include additional variables that may influence the restoration costs. For example, factors such as the type of restoration activities, the condition of the wetland site, and the availability of resources could impact the total restoration costs. By including these variables in the analysis, we can better estimate the costs of restoring wetlands and provide more accurate benefit transfer estimates.\n\n# Part 2: Storm protection benefits\n\n[Costanza et al. (2021)](https://storymaps.arcgis.com/stories/4be8afd6872145f585782f6e3f8fbe95) analyzed 1288 coastal storms globally to calculate the storm protection benefits from wetlands. The authors obtained the following regression estimates:\n\n$ln(damages/GDP) = -7.992 - 0.236ln(wetlands) + 3.298ln(windspeed) - 0.55ln(speed) + 0.137(volume) - 0.058(time)$\n\nThey have the following variables:\n\n-   damages/GDP,\n\n-   wind speed of the storm (windspeed),\n\n-   the forward speed of the storm (speed),\n\n-   wetland area in the swath of the storm (wetlands),\n\n-   the volume of water in the ocean proximal to the storm landfall (volume),\n\n-   and the year of the storm minus 1900 (time) as a (non-transformed) linear variable.\n\n6)  *Interpret the coefficient on ln(wetlands). (Hint: notice that the dependent variable is also log-transformed)*\n\nThe coefficient on ln(wetlands) is -0.236. This coefficient indicates that a 1% increase in wetland area in the swath of the storm is associated with a 0.236% decrease in damages relative to GDP. Because both the dependent variable (damages/GDP) and the wetland area are log-transformed, this coefficient captures the percentage change in damages/GDP resulting from a 1% change in wetland area. In other words, a larger wetland area provides greater storm protection benefits by reducing the damages caused by coastal storms.\n\n7)  *Calculate the avoided damage of 60 additional hectares of wetlands in case of a storm like Hurricane Hilary. You have the following information: damages = \\$18 million, and the available wetland area today is 72 hectares. Assume the GDP doesn't change (only damage moves), and all the remaining variables remain constant.*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#calculate change in wetland \ncurrent_wetland_area <- 72\nadditional_wetland_area <- 60\ntotal_wetland_area <- current_wetland_area + additional_wetland_area \n# 72 + 60 = 132\n\n\nln_wetland <- log(total_wetland_area/current_wetland_area)\n# ln_wetland\n#log(132/72) = 0.6061358034\n\n#reduction in damages\nln_damages <- -0.236 * ln_wetland\n# - 0.236 * 0.6061358034 = -0.1430480496\n# ln_damages\n\n#calculate damage\ndamages <- 18000000  \ndamage_new <- damages * exp(ln_damages)\n#18,000,000 * exp(-0.1430480496)\n# damage_new\n\navoided_damage = damages - damage_new\n#18000000 - 15600824 = 2399176\navoided_damage \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2399176\n```\n\n\n:::\n:::\n\n\n\nThe avoided damage from 60 additional hectares of wetlands in case of a storm like Hurricane Hilary is \\$2,399,176.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}